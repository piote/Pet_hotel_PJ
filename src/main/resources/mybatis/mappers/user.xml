<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
      PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
   "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.myboot.user.dao.UserDAO">

   <resultMap id="userResult" type="userVO">
      <result property="id" column="USER_ID" />
      <result property="pwd" column="USER_PW" />
      <result property="name" column="USER_NAME" />
      <result property="email" column="USER_EMAIL" />
      <result property="tel" column="USER_TEL" />
      <result property="tel_sub" column="USER_TEL_SUB" />
      <result property="message" column="USER_MESSAGE" />
      <result property="birth" column="USER_BIRTH" />
      <result property="joinDate" column="JOINDATE" />
      <result property="grade" column="USER_GRADE" />
   </resultMap> 

   <select id="selectAllUserList" resultMap="userResult">
      <![CDATA[
        select * from TB_USER order by joinDate desc			
      ]]>
   </select>
   
   <select id="selectName" resultType="String">
   	<![CDATA[
   		select name from TB_USER
   		where id='hong'
   ]]
   </select>
   
   <select id ="selectPwd" resultType="int">
   	<![CDATA[
   		select pwd from TB_USER
   		where id = 'hong'
   		]]>
   		</select>
   	<select id="selectUserById" resultType="userVO" parameterType="String">
   	<![CDATA[
   		select*from TB_USER
   		where
   		id=#{id}
   	]]>
   	</select>
   		
   	<select id="selectUserByPwd" resultMap="userResult" parameterType="int">
   	<![CDATA[
   		select*from TB_USER
   		where
   		pwd = #{pwd}
   	]]>
   	</select>
   	
   	<insert id="insertUser" parameterType="userVO">
   		<![CDATA[
   		insert into TB_USER(id,pwd, name,email)
   		values(#{id},#{pwd},#{name},#{email})
   		]]>
   	</insert>
   	
   	<insert id="insertUser2" parameterType="java.util.HashMap">
   		<![CDATA[
   			insert into TB_USER(id,pwd,name,email)
   		]]>
   		
   	</insert>
   	<update id="updateUser" parameterType="userVO">
   		<![CDATA[
   				update TB_USER
   				set pwd=#{pwd}, email=#{email}, tel=#{tel},
   					tel_sub=#{tel_sub}, message=#{message}, birth=#{birth}
   				where
   				id=#{id}
   		]]>
   	</update>
   	
   	<delete id="deleteUser" parameterType="String">
   		<![CDATA[
   			delete from TB_USER
   			where
   			id=#{id}
   		]]>
   	</delete>

</mapper>